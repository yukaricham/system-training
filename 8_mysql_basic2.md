7章：MySQLの基礎2
===

# 前回までの復習
- MySQLサーバへのログイン
- INSERT/SELECTでデータを登録・参照

## データの更新
それでは、引き続きデータの更新を実施しましょう。すでにあるデータを更新するには以下のようにして更新をします。

ポイントはSELECTでも出たように、WHEREを使うことです。WHEREを使うことで対象のレコードを指定することができます。なお、WHEREを使わないと対象はすべてのレコードになってしまい、すべて書き換わってしまうので注意してください。

当然ですが、エクセルのようにアンドゥはできないので注意して！

```sql
UPDATE users SET firstname = 'hoge' WHERE id = 1;
```

文法としては以下のように記述します。複数カラムを同時に更新することもできます。

```sql
UPDATE テーブル名 SET カラム名 = データ, カラム名 = データ　... 更新対象となる条件;
```

UPDATEをかけたら、あとは正常に更新されているか確認しましょう。

## データの削除
続いて、すでに登録したデータの削除を実施します。削除する際は以下のようにして削除します。

```sql
DELETE FROM users WHERE id = 1;
```

文法は以下のとおり。

```sql
DELETE FROM テーブル名 削除対象となる条件;
```

こちらもUPDATEと同様に、WHEREで条件を指定しないとすべてのデータが対象になってしまいます。危険な作業になるので、作業対象のレコードがどのレコードになるのかをしっかりと確認したうえで実行する必要があります。
```

# テーブルを作成する
さてデータを操作するためのSQLをやってきましたが、これはすでに定義されているテーブルに対して行ってきた操作でした。実際の作業では、テーブルを定義することから始めます。このテーブルの定義をすることで、テーブル名やカラム名、カラムに入るデータの型を定義します。

なお、テーブルを作成する際も以下のようにしてSQLでテーブルを作成します。現在すでに存在しているusersテーブルは以下のようにして作成されています。

```
CREATE TABLE users (
  id int(11) AUTO_INCREMENT,
  firstname varchar(255),
  lastname varchar(255),
  gender varchar(255),
  PRIMARY KEY (id)
);
```

文法としては以下のようになります。

```sql
CREATE TABLE テーブル名(
  カラム名 データ型 (オプション),
  カラム名 データ型 (オプション),
  カラム名 データ型 (オプション),
  .
  .
  .
  PRIMARY KEY (カラム名)
);

```

データ型ですが、MySQLでよく使用されるデータの型には以下のものがあります。

|形名|用途|
|:--|:--
|int|数値|
|varchar|文字列|
|datetime|日時|


# 演習
## テーブルをつくろう！
以下のテーブルを作成してください。

|id|username|age|
|:--|:--|:--|
|1|wadap|32|
|2|kensuu|32|


## データを登録しよう

上記のように、データを登録してください

## データの更新
上記のデータを更新してください

## データの削除
ID1のものだけ削除してください